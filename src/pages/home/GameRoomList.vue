<script setup lang="ts">
import AppPage from '@/components/AppPage.vue';
import UserBalance from '@/components/UserBalance.vue';
import router from '@/router';
import { useRecordStore } from '@/stores/record';
import { useRoomStore } from '@/stores/room';
import type { PokerRoomConfig } from '@/utils/interface';
import LocalUtil from '@/utils/LocalUtil';
const onClickLeft = () => history.back();
const recordStore = useRecordStore()
recordStore.getRoomList()
const roomStore = useRoomStore()

const toRoom = (game: PokerRoomConfig) => {
  console.log('进入游戏');
  router.push({
    path: '/game',
    query: {
      roomId: game.room_id
    }
  })
}
</script>

<template>
  <AppPage class=" h-svh">
    <van-nav-bar :border="false" style="background: var(--my-primary);" class=" h-[50px]" title="游戏大厅" left-text=""
      left-arrow @click-left="onClickLeft">
      <template #right>
        <UserBalance />
      </template>
    </van-nav-bar>

    <div class="h-[calc(100%-50px)] px-[5px]">
      <v-virtual-scroll class="h-full " :items="recordStore.roomList">
        <template v-slot:default="{ item }">
          <v-card style="background: var(--my-buttonSecondaryBg);" v-ripple="{ class: `text-info` }"
            class="mt-[4px]  px-2 py-2 ">
            <div class="flex flex-col " @click="toRoom(item)">
              <div
                class="flex flex-row w-full justify-between font-bold text-[14px] text-[var(--my-buttonSecondaryText)]">
                <div class="flex flex-1 items-center justify-center">
                  <svg t="1753531549045" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="1820" width="20" height="20">
                    <path
                      d="M332.712 762.172c-26.957-15.193-71.548-6.692-133.775 25.503-46.521 27.064-90.653 30.833-132.396 11.308 12.934 35.907 34.34 59.218 64.22 69.933-0.593 0.916-14.774 48.007-59.261 51.717 22.491 11.857 64.141 41.819 196.606-11.718 88.31-35.692 118.635-45.541 90.974-29.549l-26.368-117.194zM661 898c21.917 19.987 67.458 24.293 136.624 12.92 52.635-11.345 95.792-1.319 129.47 30.08-1.2-38.065-14.36-66.788-39.476-86.168 0.848-0.686 28.906-41.008 72.382-30.815-17.733-18.186-48.096-59.46-190.694-49.483-95.065 6.651-126.965 6.651-95.7 0L661 898z"
                      fill="#E87237" p-id="1821"></path>
                    <path
                      d="M536.5 112.454l303.267 175.092a57 57 0 0 1 28.5 49.363v350.182a57 57 0 0 1-28.5 49.363L536.5 911.546a57 57 0 0 1-57 0L176.233 736.454a57 57 0 0 1-28.5-49.363V336.909a57 57 0 0 1 28.5-49.363L479.5 112.454a57 57 0 0 1 57 0z"
                      fill="#FEE5D2" p-id="1822"></path>
                    <path
                      d="M536.5 170.454l253.037 146.092a57 57 0 0 1 28.5 49.363v292.182a57 57 0 0 1-28.5 49.363L536.5 853.546a57 57 0 0 1-57 0L226.463 707.454a57 57 0 0 1-28.5-49.363V365.909a57 57 0 0 1 28.5-49.363L479.5 170.454a57 57 0 0 1 57 0z"
                      fill="#BD6C45" p-id="1823"></path>
                    <path
                      d="M536.5 206.454l221.86 128.092a57 57 0 0 1 28.5 49.363v256.182a57 57 0 0 1-28.5 49.363L536.5 817.546a57 57 0 0 1-57 0L257.64 689.454a57 57 0 0 1-28.5-49.363V383.909a57 57 0 0 1 28.5-49.363L479.5 206.454a57 57 0 0 1 57 0z"
                      fill="#DC996E" p-id="1824"></path>
                    <path
                      d="M209 764.84c-1.954-15.378 14.266-18.966 48.662-10.765 34.395 8.202 64.508 11.79 90.338 10.764V811l-139-46.16zM665.819 804.98L661 898c6.848-25.763 21.367-36.678 43.557-32.744 17.132 2.893 35.427 14.362 43.1 17.937 22.451 10.46 38.565 10.46 48.343 0V778l-130.181 26.98z"
                      fill="#BF4800" p-id="1825"></path>
                    <path
                      d="M209 760.89c20.687 23.197 106.793 15.357 258.318-23.52C621.836 703.856 743.73 711.696 833 760.89l-36.934 122.33c-30.042-52.548-127.51-61.488-292.404-26.822-242.67 65.794-268.439 36.178-281.369 26.822-2.725-16.058-7.156-56.834-13.293-122.33z"
                      fill="#FF7612" p-id="1826"></path>
                    <path
                      d="M331.914 594.762L304.07 608.484h216.93l7.98-13.722zM362.082 461l-19.22 6.861h219.533l5.515-6.861z"
                      fill="#D98158" p-id="1827"></path>
                    <path d="M331.176 392.816l5.892 5.045h213.465l5.516-6.861z" fill="#D98158" p-id="1828"></path>
                    <path d="M667.688 341.496l7.875 28.563-40.641 284.09-15.035 11.038z" fill="#C2683E" p-id="1829">
                    </path>
                  </svg>

                  {{ item.room_id }}

                </div>
                <div class="flex flex-1 items-center justify-center">
                  <svg t="1751986220889" class="icon" viewBox="0 0 1025 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="5573" width="20" height="20">
                    <path
                      d="M522.686907 518.314991m-485.282732 0a485.282732 485.282732 0 1 0 970.565464 0 485.282732 485.282732 0 1 0-970.565464 0Z"
                      fill="#D9B142" p-id="5574"></path>
                    <path
                      d="M522.686907 518.314991m-431.362429 0a431.362429 431.362429 0 1 0 862.724858 0 431.362429 431.362429 0 1 0-862.724858 0Z"
                      fill="#FDD158" p-id="5575"></path>
                    <path
                      d="M643.643264 407.559772m-66.064516 0a66.064516 66.064516 0 1 0 132.129032 0 66.064516 66.064516 0 1 0-132.129032 0Z"
                      fill="#FBE6A3" p-id="5576"></path>
                    <path d="M466.337761 773.343454h113.184061v22.345351H466.337761z" fill="" p-id="5577"></path>
                    <path
                      d="M511.79112 840.816698v-113.18406h22.345351v113.18406zM186.535104 508.113852h113.184061v22.345351H186.535104z"
                      fill="" p-id="5578"></path>
                    <path d="M231.653283 575.698824v-113.184061h22.345351v113.184061z" fill="" p-id="5579"></path>
                    <path d="M412.417457 407.559772h221.024668v221.024668H412.417457z" fill="#F5D894" p-id="5580">
                    </path>
                    <path d="M466.337761 233.16888h113.184061v22.345351H466.337761z" fill="" p-id="5581"></path>
                    <path d="M511.961139 300.476964v-113.184061h22.345351v113.184061z" fill="" p-id="5582"></path>
                    <path d="M460.02277 455.165085h126.299811v126.299811h-126.299811z" fill="#E1AD4A" p-id="5583">
                    </path>
                    <path
                      d="M522.686907 32.54649c-268.144213 0-485.282732 217.13852-485.282732 485.282732s217.13852 485.282732 485.282732 485.282732 485.282732-217.13852 485.282732-485.282732-217.13852-485.282732-485.282732-485.282732z m0 953.563567c-258.914611 0-468.280835-209.851992-468.280835-468.280835s209.851992-468.280835 468.280835-468.280835S990.967742 259.40038 990.967742 517.829222 781.601518 986.110057 522.686907 986.110057z"
                      fill="" p-id="5584"></path>
                    <path d="M737.882353 508.113852h113.184061v22.345351h-113.184061z" fill="" p-id="5585"></path>
                    <path d="M783.000531 575.698824v-113.184061h22.345351v113.184061z" fill="" p-id="5586"></path>
                    <path
                      d="M522.686907 77.237192c-244.341556 0-442.535104 198.193548-442.535104 442.049336 0 244.341556 198.193548 442.535104 442.535104 442.535104s442.049336-198.193548 442.049336-442.535104c0.485769-244.341556-197.70778-442.049336-442.049336-442.049336z m0 869.039848c-235.597723 0-426.990512-190.907021-426.990512-426.990512S287.089184 92.296015 522.686907 92.296015c235.597723 0 426.990512 190.907021 426.990512 426.990513s-191.392789 426.990512-426.990512 426.990512z"
                      fill="" p-id="5587"></path>
                    <path
                      d="M412.417457 407.559772v221.024668h221.024668V407.559772H412.417457z m210.82353 210.82353H422.132827V417.275142h201.10816v201.10816z"
                      fill="" p-id="5588"></path>
                    <path
                      d="M455.165085 455.165085v135.043644h135.043644V455.165085H455.165085z m129.214422 128.728653H461.480076V460.994307h122.899431v122.899431z"
                      fill="" p-id="5589"></path>
                  </svg>

                  {{ item.big_blind }}/{{ item.little_blind }}

                </div>
                <div class="flex flex-1 items-center justify-center">
                  <svg t="1751986307146" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="8886" width="20" height="20">
                    <path d="M563.2 308.906667m-199.68 0a199.68 199.68 0 1 0 399.36 0 199.68 199.68 0 1 0-399.36 0Z"
                      fill="#FF6B49" p-id="8887"></path>
                    <path
                      d="M935.253333 957.44c30.72 0 52.906667-25.6 49.493334-56.32-27.306667-204.8-203.093333-361.813333-414.72-361.813333S182.613333 696.32 155.306667 901.12c-3.413333 29.013333 18.773333 56.32 49.493333 56.32h730.453333z"
                      fill="#FF6B49" p-id="8888"></path>
                    <path
                      d="M500.053333 498.346667c-124.586667 0-225.28-100.693333-225.28-225.28s102.4-225.28 225.28-225.28c124.586667 0 225.28 100.693333 225.28 225.28s-100.693333 225.28-225.28 225.28z m0-399.36c-95.573333 0-174.08 78.506667-174.08 174.08s78.506667 174.08 174.08 174.08S674.133333 368.64 674.133333 273.066667 597.333333 98.986667 500.053333 98.986667z"
                      fill="#7F0518" p-id="8889"></path>
                    <path
                      d="M872.106667 930.133333H141.653333C119.466667 930.133333 98.986667 919.893333 85.333333 904.533333c-13.653333-17.066667-20.48-37.546667-18.773333-59.733333C97.28 624.64 285.013333 460.8 506.88 460.8s411.306667 165.546667 440.32 384c3.413333 22.186667-3.413333 42.666667-17.066667 59.733333-15.36 15.36-35.84 25.6-58.026666 25.6zM506.88 512C310.613333 512 143.36 657.066667 117.76 851.626667c-1.706667 8.533333 3.413333 15.36 5.12 18.773333 5.12 5.12 11.946667 8.533333 18.773333 8.533333h730.453334c6.826667 0 13.653333-3.413333 18.773333-8.533333 3.413333-3.413333 6.826667-10.24 5.12-18.773333C870.4 657.066667 703.146667 512 506.88 512z"
                      fill="#7F0518" p-id="8890"></path>
                    <path
                      d="M512 798.72m-182.613333 0a182.613333 182.613333 0 1 0 365.226666 0 182.613333 182.613333 0 1 0-365.226666 0Z"
                      fill="#FFD45A" p-id="8891"></path>
                    <path
                      d="M512 998.4c-110.933333 0-199.68-90.453333-199.68-199.68S401.066667 597.333333 512 597.333333s199.68 90.453333 199.68 199.68S622.933333 998.4 512 998.4zM512 631.466667c-92.16 0-165.546667 75.093333-165.546667 165.546666s75.093333 165.546667 165.546667 165.546667 165.546667-75.093333 165.546667-165.546667S604.16 631.466667 512 631.466667z"
                      fill="#7F0518" p-id="8892"></path>
                    <path d="M587.093333 689.493333h-46.08l-30.72 49.493334v167.253333h22.186667v-129.706667z"
                      fill="#7F0518" p-id="8893"></path>
                    <path d="M436.906667 689.493333h46.08l30.72 49.493334v167.253333h-22.186667v-129.706667z"
                      fill="#7F0518" p-id="8894"></path>
                    <path
                      d="M450.56 839.68h124.586667v40.96h-124.586667zM448.853333 776.533333h124.586667v40.96h-124.586667z"
                      fill="#7F0518" p-id="8895"></path>
                  </svg>
                  {{ item.sit_num }}
                </div>
                <div class="flex flex-1 items-center justify-center">
                  <img src="../../assets/imgae/usdt.png" class="w-[20px] h-[20px] " alt="" srcset="">

                  {{ item.min_buy }}
                </div>
              </div>
              <div class="flex flex-row w-full justify-between text-[12px] text-[var(--my-buttonSecondaryText)]">
                <div class="flex flex-1 items-center justify-center">房间ID</div>
                <div class="flex flex-1 items-center justify-center">盲注</div>
                <div class="flex flex-1 items-center justify-center">玩家</div>
                <div class="flex flex-1 items-center justify-center">预设买入</div>
              </div>
              <div
                class="pos-absolute right-1 bottom-1 flex flex-row items-center justify-center text-[var(--my-buttonSecondaryText)] text-[14px]">
                <svg t="1751986404743" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="9976" width="15" height="15">
                  <path
                    d="M184.32 778.24v-36.51584L35.84 529.67424a102.4 102.4 0 0 1 87.49056-161.09568C131.35872 186.59328 247.07072 64.512 443.16672 61.50144L450.56 61.44h122.88c205.0048 0 319.50848 120.44288 327.2704 307.15904a102.4 102.4 0 0 1 90.15296 157.06112l-2.70336 4.01408L839.68 741.70368V778.24a122.88 122.88 0 0 1-122.88 122.88v30.72a30.72 30.72 0 0 1-61.44 0V901.12H368.64v30.72a30.72 30.72 0 0 1-61.44 0V901.12a122.88 122.88 0 0 1-122.88-122.88zM96.21504 437.37088a40.96 40.96 0 0 0-11.8784 54.23104l1.82272 2.82624L245.76 722.37056V778.24a61.44 61.44 0 0 0 57.83552 61.3376L307.2 839.68h409.6a61.44 61.44 0 0 0 61.3376-57.83552L778.24 778.24v-55.9104l158.80192-226.7136 1.90464-2.84672a40.96 40.96 0 0 0-66.17088-48.00512l-2.048 2.6624-127.2832 181.76-51.65056-47.3088A265.0112 265.0112 0 0 0 512 512a264.94976 264.94976 0 0 0-174.10048 64.8192l-5.69344 5.05856-51.67104 47.32928-127.26272-181.76a40.96 40.96 0 0 0-57.05728-10.07616zM573.44 122.88h-122.88C280.43264 122.88 187.00288 223.232 184.38144 382.1568L184.32 389.12v2.33472c7.18848 5.85728 13.70112 12.77952 19.27168 20.74624l87.10144 124.39552A326.49216 326.49216 0 0 1 512 450.56c85.2992 0 163.00032 32.60416 221.30688 86.016l87.10144-124.37504c5.57056-7.9872 12.0832-14.90944 19.29216-20.76672L839.68 389.12c0-163.5328-86.87616-263.3728-258.72384-266.17856L573.44 122.88z"
                    fill="#131415" p-id="9977"></path>
                </svg>
                {{ item.seat_num }}
              </div>
            </div>
          </v-card>
        </template>
      </v-virtual-scroll>
    </div>

  </AppPage>
</template>
